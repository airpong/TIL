{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nvar _jsxFileName = \"/Users/macbookpro/hcu/TIL/noovies_clone/screens/favorite/FavPresenter.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  border-radius: 20px;\\n  width: 100%;\\n  height: 100%;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  padding-top: 50px;\\n  flex: 1;\\n  background-color: black;\\n  align-items: center;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from \"react\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport styled from \"styled-components/native\";\nimport { apiImage } from \"../../api\";\n\nvar _Dimensions$get = Dimensions.get(\"window\"),\n    WIDTH = _Dimensions$get.width,\n    HEIGHT = _Dimensions$get.height;\n\nvar Container = styled.View(_templateObject());\nvar Poster = styled.Image(_templateObject2());\nvar styles = {\n  top: 80,\n  height: HEIGHT / 1.5,\n  width: \"90%\",\n  position: \"absolute\"\n};\nexport default (function (_ref) {\n  var results = _ref.results;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      topIndex = _useState2[0],\n      setTopIndex = _useState2[1];\n\n  var position = new Animated.ValueXY();\n  var panResponder = PanResponder.create({\n    onStartShouldSetPanResponder: function onStartShouldSetPanResponder(evt, gestureState) {\n      return true;\n    },\n    onPanResponderMove: function onPanResponderMove(evt, _ref2) {\n      var dx = _ref2.dx,\n          dy = _ref2.dy;\n      position.setValue({\n        x: dx,\n        y: dy\n      });\n    },\n    onPanResponderRelease: function onPanResponderRelease(evt, gestureState) {\n      Animated.spring(position, {\n        toValue: {\n          x: 0,\n          y: 0\n        },\n        useNativeDriver: true\n      }).start();\n    }\n  });\n  var rotationValues = position.x.interpolate({\n    inputRange: [-200, 0, 200],\n    outputRange: [\"-13deg\", \"0deg\", \"13deg\"],\n    extrapolate: \"clamp\"\n  });\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, results.map(function (result, index) {\n    if (index === topIndex) {\n      return React.createElement(Animated.View, _extends({\n        style: _objectSpread(_objectSpread({}, styles), {}, {\n          zIndex: 1,\n          transform: [{\n            rotate: rotationValues\n          }].concat(_toConsumableArray(position.getTranslateTransform()))\n        }),\n        key: result.id\n      }, panResponder.panHandlers, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }\n      }), React.createElement(Poster, {\n        source: {\n          url: apiImage(result.poster_path)\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }\n      }));\n    }\n\n    return React.createElement(Animated.View, _extends({\n      style: _objectSpread(_objectSpread({}, styles), {}, {\n        zIndex: -index\n      }),\n      key: result.id\n    }, panResponder.panHandlers, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }), React.createElement(Poster, {\n      source: {\n        url: apiImage(result.poster_path)\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }));\n  }));\n});","map":{"version":3,"sources":["/Users/macbookpro/hcu/TIL/noovies_clone/screens/favorite/FavPresenter.js"],"names":["React","useState","styled","apiImage","Dimensions","get","WIDTH","width","HEIGHT","height","Container","View","Poster","Image","styles","top","position","results","topIndex","setTopIndex","Animated","ValueXY","panResponder","PanResponder","create","onStartShouldSetPanResponder","evt","gestureState","onPanResponderMove","dx","dy","setValue","x","y","onPanResponderRelease","spring","toValue","useNativeDriver","start","rotationValues","interpolate","inputRange","outputRange","extrapolate","map","result","index","zIndex","transform","rotate","getTranslateTransform","id","panHandlers","url","poster_path"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { PanResponder, Dimensions, Animated } from \"react-native\";\nimport styled from \"styled-components/native\";\nimport { apiImage } from \"../../api\";\n\nconst { width: WIDTH, height: HEIGHT } = Dimensions.get(\"window\");\n\nconst Container = styled.View`\n  padding-top: 50px;\n  flex: 1;\n  background-color: black;\n  align-items: center;\n`;\n\nconst Poster = styled.Image`\n  border-radius: 20px;\n  width: 100%;\n  height: 100%;\n`;\nconst styles = {\n  top: 80,\n  height: HEIGHT / 1.5,\n  width: \"90%\",\n  position: \"absolute\",\n};\nexport default ({ results }) => {\n  const [topIndex, setTopIndex] = useState(0);\n  const position = new Animated.ValueXY();\n  const panResponder = PanResponder.create({\n    onStartShouldSetPanResponder: (evt, gestureState) => true,\n    onPanResponderMove: (evt, { dx, dy }) => {\n      position.setValue({ x: dx, y: dy });\n    },\n    onPanResponderRelease: (evt, gestureState) => {\n      Animated.spring(position, {\n        toValue: {\n          x: 0,\n          y: 0,\n        },\n        useNativeDriver: true,\n      }).start();\n    },\n  });\n  const rotationValues = position.x.interpolate({\n    inputRange: [-200, 0, 200],\n    outputRange: [\"-13deg\", \"0deg\", \"13deg\"],\n    extrapolate: \"clamp\",\n  });\n\n  return (\n    <Container>\n      {results.map((result, index) => {\n        if (index === topIndex) {\n          return (\n            <Animated.View\n              style={{\n                ...styles,\n                zIndex: 1,\n                transform: [\n                  { rotate: rotationValues },\n                  ...position.getTranslateTransform(),\n                ],\n              }}\n              key={result.id}\n              {...panResponder.panHandlers}\n            >\n              <Poster source={{ url: apiImage(result.poster_path) }} />\n            </Animated.View>\n          );\n        }\n        return (\n          <Animated.View\n            style={{\n              ...styles,\n              zIndex: -index,\n            }}\n            key={result.id}\n            {...panResponder.panHandlers}\n          >\n            <Poster source={{ url: apiImage(result.poster_path) }} />\n          </Animated.View>\n        );\n      })}\n    </Container>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}